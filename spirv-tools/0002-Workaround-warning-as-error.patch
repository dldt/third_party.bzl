From 8867c466c5a5ca6262f5588a4752a787fdd0d297 Mon Sep 17 00:00:00 2001
From: Thomas Arcila <thomas.arcila@gmail.com>
Date: Sun, 25 Apr 2021 20:17:20 +0200
Subject: [PATCH] Workaround warning as error

---
 source/diagnostic.cpp | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/source/diagnostic.cpp b/source/diagnostic.cpp
index edc27c8f..bb68a981 100644
--- a/source/diagnostic.cpp
+++ b/source/diagnostic.cpp
@@ -37,7 +37,15 @@ spv_diagnostic spvDiagnosticCreate(const spv_position position,
   diagnostic->position = *position;
   diagnostic->isTextSource = false;
   memset(diagnostic->error, 0, length);
+#if defined(__GNUC__)
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wstringop-truncation"
+#endif
   strncpy(diagnostic->error, message, length);
+#if defined(__GNUC__)
+#pragma GCC diagnostic push
+#pragma GCC diagnostic pop
+#endif
   return diagnostic;
 }
 
-- 
2.31.1

